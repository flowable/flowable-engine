<?xml version="1.0" encoding="UTF-8"?>
<definitions id="definitions"
             xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL"
             targetNamespace="Examples">

    <signal id="mySignal" name="someSignal"/>

    <process id="NES" name="Nested Event SubProcess" isExecutable="true">

        <startEvent id="procStart"/>
        <sequenceFlow id="seqFlow1" sourceRef="procStart" targetRef="beforeSubProcessTask"/>
        <userTask id="beforeSubProcessTask" name="outsideTask"/>
        <sequenceFlow id="seqFlow2" sourceRef="beforeSubProcessTask" targetRef="outerSubProcess"/>

        <subProcess id="outerSubProcess" name="subProcess">

            <subProcess id="nestedEventSubProcess" name="Simple Event Nested SubProcess" triggeredByEvent="true">
                <startEvent id="nestedEventSubProcStart">
                    <signalEventDefinition signalRef="mySignal"/>
                </startEvent>
                <sequenceFlow id="subSeqFlow1" sourceRef="nestedEventSubProcStart" targetRef="insideEventSubProcessTask"/>
                <userTask id="insideEventSubProcessTask" name="insideEventSubProcess"/>
                <sequenceFlow id="subSeqFlow2" sourceRef="insideEventSubProcessTask" targetRef="nestedEventSubProcEnd"/>
                <endEvent id="nestedEventSubProcEnd" name="nestedEventSubProcEnd"/>
            </subProcess>

            <startEvent id="subProcStart" name="subProcStart"/>
            <sequenceFlow id="outerSubSeqFlow1" sourceRef="subProcStart" targetRef="insideSubProcessTask"/>
            <userTask id="insideSubProcessTask" name="insideSubProcess"/>
            <sequenceFlow id="outerSubSeqFlow2" sourceRef="insideSubProcessTask" targetRef="subProcEnd"/>
            <endEvent id="subProcEnd" name="subProcEnd"/>

        </subProcess>

        <sequenceFlow id="seqFlow3" sourceRef="outerSubProcess" targetRef="afterSubProcessTask"/>
        <userTask id="afterSubProcessTask" name="afterSubProcess"/>
        <sequenceFlow id="seqFlow4" sourceRef="afterSubProcessTask" targetRef="procEnd"/>
        <endEvent id="procEnd" name="procEnd"/>
    </process>
</definitions>